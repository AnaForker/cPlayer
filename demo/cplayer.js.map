{"version":3,"sources":["cplayer.js"],"names":["cPlayer","options","transLock","EVENTS","emitter","cEmitter","on","eventName","func","DEFAULTS","document","getElementById","Object","assign","undefined","SVG","i","keys","length","svg","CBASE","cBase","now","dragging","contain","target","element","innerHTML","root","getElementsByTagName","__LIST__","getByClass","getByTagName","toggle","focus","toggleIcon","volumeIcon","volumePower","that","dragPercentage","rightTarget","defineProperties","get","timePoint","volumePoint","timeLine","volumeLine","timeBody","volumeBody","mover","parent","parentNode","classList","contains","style","width","clientX","getBoundingClientRect","left","offsetWidth","vol","music","volume","addEventListener","upper","window","removeEventListener","Error","JSON","stringify","time","updateTime","duration","createElement","autoplay","preload","isPaused","play","pause","hasLyric","lyric","showLyric","hideLyric","hasList","list","showList","hideList","innerWidth","parentElement","isMuted","muted","slideLyric","currentTime","replaceInner","playArrow","lyricBody","loop","next","cContext","items","previous","translate","emit","lyricPower","listPower","ev","a","refreshList","vl","checkLevel","volumeOff","volumeDown","volumeUp","console","log","seeking","dom","image","name","artist","url","img","src","refreshLyric","paused","id","remove","add","lb","listBody","div","appendChild","to","u","ln","push","content","isTrans","lr","transLyric","cLyric","__LYRIC__","lyricToTop","halfBody","translateY","lrc","clear","n","find","reverse","indexOf","childNodes","offsetTop","clientHeight","getElementsByClassName","SyntaxError","TypeError","index","arguments","source","key","prototype","hasOwnProperty","call","typeList","events","args","rootNode","documentElement","styleList","forEach","browser","replace","oldElement","newElement","cloneNode","removeChild","innerContent","className","tagName","start","end","Math","random","RangeError","array","ar","el","property","slice","toUpperCase","oncontextmenu","hide","show","action","pageX","pageY","children","body","clientWidth","offsetHeight","top","visibility","context","offset","lyricArray","split","parseInt","exec","test","match","e","number","parseFloat","shift","sort","b"],"mappings":"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","file":"cplayer.js","sourcesContent":["/*\r\n \tcPlayer\r\n    Author\tCorps\r\n\r\n\tI am the super Corps!\r\n */\r\n\r\nconst cPlayer = class cPlayer {\r\n\t    constructor(options) {\r\n\t    \tthis.transLock = false;\r\n\t        const EVENTS = {\r\n\t            \"play\"              :[], //When Music be played, Emit.\r\n\t            \"pause\"             :[], //When Music be paused, Emit.\r\n\t            \"volumechange\"      :[],\r\n\t            \"timeupdate\"        :[],\r\n\t            \"canplaythrough\"    :[],\r\n\t            \"ended\"             :[],\r\n\t            //All the above are binded on AUDIO Elements,\r\n\t            //The following items are Function's callback function.\r\n\t            \"toggle\"            :[],\r\n\t            \"previous\"          :[],\r\n\t            \"next\"              :[],\r\n\t            \"changeList\"        :[],\r\n\t            \"changeLyric\"       :[],\r\n\t            \"slideList\"         :[],\r\n\t            \"slideLyric\"        :[],\r\n\t            \"clickLyricPower\"   :[],\r\n\t            \"clickListPower\"    :[],\r\n\t            \"clickVolumePower\"  :[],\r\n\t        };\r\n\t        this.emitter = new cEmitter(EVENTS);\r\n\t        this.on = (eventName,func)=>this.emitter.on(eventName,func);\r\n\t        /*\r\n\t         *  參數处理,合并默认参数与定义參數\r\n\t         */\r\n\t        const DEFAULTS = {\r\n\t            \"element\": document.getElementById(\"cplayer\"),\r\n\t            \"list\"   : []\r\n\t        };\r\n\t        if(Object.assign !== undefined){\r\n\t            this.options = Object.assign({}, DEFAULTS, options);\r\n\t        }\r\n\r\n\t        //SVG建立\r\n\t        this.SVG = {\r\n\t            \"playArrow\"     :'M16 10v28l22-14z',\r\n\t            \"pause\"         :'M12 38h8V10h-8v28zm16-28v28h8V10h-8z',\r\n\t            \"playlistPlay\"  :'M26 6H-8v4h34V6zm0-8H-8v4h34v-4zM-8 18h26v-4H-8v4zm30-4v12l10-6-10-6z',\r\n\t            \"note\"          :'M44 20L32 8H8c-2.2 0-4 1.8-4 4v24.02C4 38.22 5.8 40 8 40l32-.02c2.2 0 4-1.78 4-3.98V20zm-14-9l11 11H30V11z',\r\n\t            \"volumeUp\"      :'M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z',\r\n\t            \"volumeMute\"    :'M14 18v12h8l10 10V8L22 18h-8z',\r\n\t            \"volumeOff\"     :'M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13c2.75-.63 5.26-1.89 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z',\r\n\t            \"volumeDown\"    :'M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z',\r\n\t        };\r\n\t        (()=>{\r\n\t            for(let i = 0,keys = Object.keys(this.SVG),length = keys.length;i<length;i++){\r\n\t                let svg = keys[i]===\"playlistPlay\" ?\r\n\t                     '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"-12 -12 48 48\" enable-background=\"new -12 -12 48 48\"><path d=\"' + this.SVG[keys[i]] + '\"/></svg>' :\r\n\t                     '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 48 48\"><path d=\"' + this.SVG[keys[i]] + '\"/></svg>';\r\n\t                this.SVG[keys[i]] = svg;\r\n\t            }\r\n\t        })();\r\n\r\n\t        this.CBASE = new cBase;\r\n\t        this.now = 0;\r\n\t        this.dragging = {contain: false, target: undefined};\r\n\t        //现在开始填DOM\r\n\t\t\tthis.options.element.innerHTML = '<c-player><div class=\"lyric invisible\"><lyric-body></lyric-body></div><div class=\"controls\"><div class=\"c-left\"><div class=\"music-description\"><div class=\"image\"><img class=\"meta-bak\"></div><div class=\"music-meta\"><div><span class=\"music-name\"></span><span class=\"music-artist\"></span></div></div></div><a class=\"play-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 48 48\"><path d=\"M16 10v28l22-14z\"></path></svg></a></div><div class=\"c-center\"><div class=\"time\"><div class=\"time-body\"><div class=\"time-line\"><div class=\"time-point\"></div></div></div></div></div><div class=\"c-right\"><div class=\"volume\"><div class=\"volume-button\"><a class=\"volume-power\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 48 48\"><path d=\"M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13c2.75-.63 5.26-1.89 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z\"></path></svg></a></div><div class=\"volume-body\"><div class=\"volume-line\"><div class=\"volume-point\"></div></div></div></div><div class=\"list-button\"><a class=\"list-power\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"-12 -12 48 48\" enable-background=\"new -12 -12 48 48\"><path d=\"M26 6H-8v4h34V6zm0-8H-8v4h34v-4zM-8 18h26v-4H-8v4zm30-4v12l10-6-10-6z\"></path></svg></a></div><div class=\"lyric-button\"><a class=\"lyric-power\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 48 48\"><path d=\"M44 20L32 8H8c-2.2 0-4 1.8-4 4v24.02C4 38.22 5.8 40 8 40l32-.02c2.2 0 4-1.78 4-3.98V20zm-14-9l11 11H30V11z\"></path></svg></a></div></div></div><div class=\"list invisible\"><list-body></list-body></div></c-player>';\r\n\t        this.CBASE.root = this.options.element.getElementsByTagName(\"c-player\");\r\n\t        this.CBASE.root = this.CBASE.root[this.CBASE.root.length-1];//???\r\n\t        //然后为DOMList填充一下吧\r\n\t        this.__LIST__ = {\r\n\t            \"lyric\"      : this.CBASE.getByClass(\"lyric\"),\r\n\t            \"lyricBody\"  : this.CBASE.getByTagName(\"lyric-body\"),\r\n\t            \"toggle\"     : this.CBASE.getByClass(\"play-icon\"),\r\n\t            \"img\"        : this.CBASE.getByClass(\"meta-bak\"),\r\n\t            \"name\"       : this.CBASE.getByClass(\"music-name\"),\r\n\t            \"artist\"     : this.CBASE.getByClass(\"music-artist\"),\r\n\t            \"time\"       : this.CBASE.getByClass(\"time\"),\r\n\t            \"timeBody\"   : this.CBASE.getByClass(\"time-body\"),\r\n\t            \"timeLine\"   : this.CBASE.getByClass(\"time-line\"),\r\n\t            \"timePoint\"  : this.CBASE.getByClass(\"time-point\"),\r\n\t\t\t\t\"lyricPower\" : this.CBASE.getByClass(\"lyric-power\"),\r\n\t\t\t\t\"volume\"\t : this.CBASE.getByClass(\"volume\"),\r\n\t            \"volumePower\": this.CBASE.getByClass(\"volume-power\"),\r\n\t            \"volumeBody\" : this.CBASE.getByClass(\"volume-body\"),\r\n\t            \"volumeLine\" : this.CBASE.getByClass(\"volume-line\"),\r\n\t            \"volumePoint\": this.CBASE.getByClass(\"volume-point\"),\r\n\t            \"listPower\"  : this.CBASE.getByClass(\"list-power\"),\r\n\t            \"list\"       : this.CBASE.getByClass(\"list\"),\r\n\t            \"listBody\"   : this.CBASE.getByTagName(\"list-body\")\r\n\t        };\r\n\t\t\tthis.__LIST__.toggle.focus();\r\n\t        this.__LIST__.toggleIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.toggle);\r\n\t        this.__LIST__.volumeIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.volumePower);\r\n\r\n\t        let that=this;function dragPercentage(options) {\r\n\t\t    \t/*\r\n\t\t    \t\tWhile anything...\r\n\t\t    \t\trightTarget(if.it.possible)[\r\n\t\t\t\t\t\t0 -> sth.point\r\n\t\t\t\t\t\t1 -> sth.line\r\n\t\t\t\t\t\t2 -> sth.point & sth.line & sth.body\r\n\t\t    \t\t]\r\n\t\t    \t*/\r\n\t\t    \tlet rightTarget = [];\r\n\t\t\t\t\tObject.defineProperties(rightTarget,{\r\n\t\t\t\t\t\t0:{\r\n\t\t\t\t\t\t\tget: ()=>{return options.target === that.__LIST__.timePoint \r\n\t\t                \t|| options.target === that.__LIST__.volumePoint}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t1:{\r\n\t\t\t\t\t\t\tget: ()=>{return options.target === that.__LIST__.timeLine\r\n\t\t                \t|| options.target === that.__LIST__.volumeLine}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t2:{\r\n\t\t\t\t\t\t\tget: ()=>{return options.target === that.__LIST__.timeBody\r\n\t\t                \t|| options.target === that.__LIST__.volumeBody}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});//throw new Error(\"whoops\");\r\n\t\t    \tif (!(rightTarget[2]||rightTarget[1]||rightTarget[0])) return;//Warning!!! rightTarget[2] checks if mouse focus on the percentage.\r\n\t\t        that.dragging.contain = true;\r\n\t\t        that.dragging.target = options.target;\r\n\t\t\t\tlet mover = function(options){\r\n\t\t\t\t\tif (that.dragging.contain === false) return;\r\n\t\t            if (!rightTarget[0])return;\r\n\t\t            parent = that.dragging.target.parentNode.parentNode;\r\n\t\t            if (parent.classList && parent.classList.contains(\"volume-body\")) {\r\n\t\t                that.__LIST__.volumeLine.style.width = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth * 100 + \"%\";\r\n\t\t            } else if (parent.classList && parent.classList.contains(\"time-body\")) {\r\n\t\t                that.__LIST__.timeLine.style.width = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth * 100 + \"%\";\r\n\t\t            }\r\n\t\t            //实时修正VOLUME\r\n\t\t            if (parent.classList.contains(\"volume-body\")) {\r\n\t\t                let vol = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t                vol = vol > 1 ? 1 : vol;\r\n\t\t                vol = vol < 0 ? 0 : vol;\r\n\t\t                that.music.volume = vol;\r\n\t\t            }window.addEventListener(\"mouseup\",upper,{\"once\":true});\r\n\t\t\t\t};let upper=function (options){\r\n\t\t\t\t\twindow.removeEventListener(\"mousemove\",mover);\r\n\t\t            \tif (that.dragging.contain === false) return;\r\n\t\t\t            /*\r\n\t\t\t            \tWhile anything...\r\n\t\t\t            \tsth.body -> self\r\n\t\t\t            \tsth.line -> parent\r\n\t\t\t            \tsth.point-> parent.parent\r\n\t\t\t            */\r\n\t\t\t            if(false){}\r\n\t\t\t            \telse if(rightTarget[0]){parent = that.dragging.target.parentNode.parentNode}\r\n\t\t\t            \telse if(rightTarget[1]){parent = that.dragging.target.parentNode}\r\n\t\t\t            \telse if(rightTarget[2]){parent = that.dragging.target}\r\n\t\t\t            \telse throw new Error(JSON.stringify([that.dragging.target, rightTarget]));\r\n\t\t\t            if (parent.classList.contains(\"volume-body\")) {\r\n\t\t\t                let vol = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t\t                vol = vol > 1 ? 1 : vol;\r\n\t\t\t                vol = vol < 0 ? 0 : vol;\r\n\t\t\t                that.music.volume = vol;\r\n\t\t\t            } else if (parent.classList.contains(\"time-body\")) {\r\n\t\t\t                let time = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t\t                time = time > 1 ? 1 : time;\r\n\t\t\t                time = time < 0 ? 0 : time;\r\n\t\t\t                that.updateTime(time * that.music.duration);\r\n\t\t\t            }\r\n\t\t\t            that.dragging.contain = false;\r\n\t\t\t            that.dragging.target = undefined;\r\n\t\t\t\t};\r\n\t\t\t\twindow.addEventListener(\"mousemove\",mover);\r\n\t\t\t\twindow.addEventListener(\"click\",upper,{\"once\":true});\r\n\t\t    }\r\n\r\n\t        this.music = document.createElement(\"audio\");\r\n\t        this.music.autoplay = !!this.options.autoplay;\r\n\t        this.music.preload  = \"metadata\";\r\n\t        //绑定事件开始:\r\n\r\n\t        this.emitter.on(\"toggle\",()=>{\r\n\t            if (this.isPaused()) {\r\n\t                this.play();\r\n\t            } else {\r\n\t                this.pause();\r\n\t            }\r\n\t        }).on(\"clickLyricPower\",()=>{\r\n\t            if (this.hasLyric(this.now) && this.__LIST__.lyric.classList.contains(\"invisible\")) {\r\n\t                this.showLyric();\r\n\t            } else if (this.hasLyric(this.now) && !this.__LIST__.lyric.classList.contains(\"invisible\")) {\r\n\t                this.hideLyric();\r\n\t            }\r\n\t        }).on(\"clickListPower\",()=>{\r\n\t            if (this.hasList() && this.__LIST__.list.classList.contains(\"invisible\")) {\r\n\t                this.showList();\r\n\t            } else if (this.hasList() && !this.__LIST__.list.classList.contains(\"invisible\")) {\r\n\t                this.hideList();\r\n\t            }\r\n\t        }).on(\"clickVolumePower\",()=>{\r\n\t\t\t\tif(window.innerWidth<600){\r\n\t\t\t\t\tthis.__LIST__.volume.parentElement.classList.toggle(\"hover\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t            if (this.isMuted()) {\r\n\t                this.music.muted = false;\r\n\t            } else {\r\n\t                this.volume(0);\r\n\t            }\r\n\t        }).on(\"timeupdate\",()=>{\r\n\t            this.updateTime();\r\n\t            if (this.hasLyric(this.now)) \r\n\t            \tthis.slideLyric(this.music.currentTime);\r\n\t        }).on(\"volumechange\",()=>{\r\n\t            this.volume(); //做更新界面用.\r\n\t        }).on(\"pause\",()=>{\r\n\t            this.CBASE.replaceInner(this.__LIST__.toggle,this.SVG.playArrow);\r\n\t        }).on(\"play\",()=>{\r\n\t            this.CBASE.replaceInner(this.__LIST__.toggle,this.SVG.pause);\r\n\t            this.__LIST__.toggleIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.toggle);\r\n\t        }).on(\"ended\",()=>{\r\n\t            this.CBASE.style(this.__LIST__.lyricBody,\"transform\",\"\");\r\n\t            if (this.options.list[this.now].loop === true) {\r\n\t                    this.updateTime(0);\r\n\t                    this.play();\r\n\t            }else if (this.hasList()&&this.now !== this.options.list.length-1) {\r\n\t                this.next();\r\n\t            }\r\n\t        });\r\n\r\n\t        //结束\r\n\r\n\t        new cContext({element:this.options.element,items:[\r\n\t        \t\t{\"name\":\"上一曲\",\"action\":()=>this.previous()},\r\n\t        \t\t{\"name\":\"下一曲\",\"action\":()=>this.next()},\r\n\t        \t\t{\"name\":\"翻译\",\"action\":()=>this.translate()}\r\n\t        \t]})\r\n\r\n\t        if(this.options.list[0]) this.toggle();\r\n\t        this.__LIST__.toggle.addEventListener(\"click\", ()=>this.emitter.emit(\"toggle\"));\r\n\t        this.__LIST__.lyricPower.addEventListener(\"click\", ()=>this.emitter.emit(\"clickLyricPower\"));\r\n\t        this.__LIST__.listPower.addEventListener(\"click\", ()=>this.emitter.emit(\"clickListPower\"));\r\n\t        this.__LIST__.volumePower.addEventListener(\"click\", ()=>this.emitter.emit(\"clickVolumePower\"));\r\n\t        this.music.addEventListener(\"volumechange\", (ev)=>this.emitter.emit(\"volumechange\",ev));\r\n\t        this.music.addEventListener(\"timeupdate\", (ev)=>this.emitter.emit(\"timeupdate\",ev));\r\n\t        this.music.addEventListener(\"canplaythrough\", ()=>this.emitter.emit(\"canplaythrough\"));\r\n\t        this.music.addEventListener(\"pause\", ()=>this.emitter.emit(\"pause\"));\r\n\t        this.music.addEventListener(\"play\", ()=>this.emitter.emit(\"play\"));\r\n\t        this.music.addEventListener(\"ended\", ()=>this.emitter.emit(\"ended\"));\r\n\t        this.options.element.addEventListener(\"mousedown\", (a)=>dragPercentage(a));\r\n\r\n\t        this.volume();\r\n\t        this.refreshList();\r\n\t    };\r\n\r\n\t    volume(vl = undefined) {\r\n\t        let checkLevel = ()=>{\r\n\t            if(this.music.volume===0||this.isMuted()){\r\n\t                this.CBASE.replaceInner(this.__LIST__.volumePower,this.SVG.volumeOff);\r\n\t            } else if(this.music.volume>0&&this.music.volume<=0.5){\r\n\t                this.CBASE.replaceInner(this.__LIST__.volumePower,this.SVG.volumeDown);\r\n\t            } else if(this.music.volume>0.5&&this.music.volume<=1){\r\n\t                this.CBASE.replaceInner(this.__LIST__.volumePower,this.SVG.volumeUp);\r\n\t            } else {\r\n\t                console.log(\"Unexcepted Volume: \"+this.music.volume);\r\n\t            }\r\n\t        }\r\n\t        if (vl === undefined) {\r\n\t            this.__LIST__.volumeLine.style.width = (this.music.volume * 100) + \"%\";\r\n\t            checkLevel();\r\n\t            return this.isMuted() ? 0 : this.music.volume;\r\n\t        } else {\r\n\t            if (vl === 0) {\r\n\t                this.music.muted = true;\r\n\t                checkLevel();\r\n\t            } else {\r\n\t                this.music.volume = vl;\r\n\t                checkLevel();\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    isMuted() {\r\n\t        return this.music.muted;\r\n\t    }\r\n\r\n\t    play() {\r\n\t        if(this.music.seeking === true) return this;\r\n\t        this.music.play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    pause() {\r\n\t        if(this.music.seeking === true) return;\r\n\t        this.music.pause();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    previous() {\r\n\t        this.emitter.emit(\"previous\");\r\n\t        if(this.now === 0) return;\r\n\t        this.now--;\r\n\t        this.toggle().play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    next() {\r\n\t        this.emitter.emit(\"next\");\r\n\t        if(this.now === this.options.list.length-1) return;\r\n\t        this.now++;\r\n\t        this.toggle().play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    to(now) {\r\n\t        this.now = now;\r\n\t        this.toggle();\r\n\t        this.play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    toggle(now = this.now) {\r\n\t        let list = this.options.list[now], dom = this.__LIST__;\r\n\t        this.music.pause();\r\n\t        [dom.img.src, dom.name.innerHTML, dom.artist.innerHTML, this.music.src] = [list.image, list.name, list.artist, list.url];\r\n\t        this.transLock = false;\r\n\t        this.refreshLyric();\r\n\t        if (!this.hasLyric(this.now))this.hideLyric();\r\n\t        this.CBASE.style(this.__LIST__.lyricBody,\"transform\",\"\");\r\n\t        return this;\r\n\t    }\r\n\r\n\t    isPaused(func) {\r\n\t        if(func !== undefined) func();\r\n\t        return this.music.paused;\r\n\t    }\r\n\r\n\t    hasLyric(id = 0,func) {\r\n\t        if(func !== undefined) func();\r\n\t        return (this.options.list[id].lyric != undefined);\r\n\t    }\r\n\r\n\t    showLyric() {\r\n\t        this.emitter.emit(\"slideLyric\",true);\r\n\t        if (this.hasLyric(this.now))this.__LIST__.lyric.classList.remove(\"invisible\");\r\n\t        if (!this.__LIST__.list.classList.contains(\"invisible\")) this.hideList();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    hideLyric() {\r\n\t        this.emitter.emit(\"slideLyric\",false);\r\n\t        this.__LIST__.lyric.classList.add(\"invisible\");\r\n\t        return this;\r\n\t    }\r\n\r\n\t    hasList(func) {\r\n\t        if(func !== undefined) func();\r\n\t        return (this.options.list.length > 1);\r\n\t    }\r\n\r\n\t    showList(func) {\r\n\t        this.emitter.emit(\"slideList\",true);\r\n\t        this.__LIST__.list.classList.remove(\"invisible\");\r\n\t        if (!this.__LIST__.lyric.classList.contains(\"invisible\")) this.hideLyric();\r\n\t        if(func !== undefined) func();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    hideList(func) {\r\n\t        this.emitter.emit(\"slideList\",false);\r\n\t        this.__LIST__.list.classList.add(\"invisible\");\r\n\t        if(func !== undefined) func();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    refreshList(func) {\r\n\t        this.emitter.emit(\"changeList\");\r\n\t        let list = this.options.list, lb = this.__LIST__.listBody;\r\n\t        lb.innerHTML = ``;\r\n\t        for (let i = 0; i <= list.length - 1; i++) {\r\n\t            let div = document.createElement(\"div\");\r\n\t            div.innerHTML = '<span class=\"music-name\">' + list[i].name + '</span><span class=\"music-artist\">' + list[i].artist + '</span>';\r\n\t            div = lb.appendChild(div);\r\n\t            div.addEventListener(\"click\", ()=> {\r\n\t                this.to(i);\r\n\t            });\r\n\t        }\r\n\t        if(func !== undefined) func();\r\n\t    }\r\n\r\n\t    add(u,func) {\r\n\t        let ln = this.options.list.push(u);\r\n\t        let div = document.createElement(\"div\");\r\n\t        div.innerHTML = '<span class=\"music-name\">' + u.name + '</span><span class=\"music-artist\">' + u.artist + '</span>';\r\n\t        div = this.__LIST__.listBody.appendChild(div);\r\n\t        div.addEventListener(\"click\", ()=> {\r\n\t            this.to(ln - 1);\r\n\t        });\r\n\t        if(ln===1) this.toggle(); //刷新元素.\r\n\t        if(func !== undefined) func();\r\n\t    }\r\n\r\n\t    lyric(content = undefined) {\r\n\t        if (content === undefined) {\r\n\t            if (this.hasLyric(this.now)) return this.options.list[this.now].lyric;\r\n\t        } else {\r\n\t            this.options.list[this.now].lyric = content;\r\n\t            this.refreshLyric();\r\n\t        }\r\n\t        return this;\r\n\t    }\r\n\r\n\t    refreshLyric(isTrans=false) {\r\n\t        //REQUIRE LYRIC...\r\n\t        this.__LIST__.lyricBody.innerHTML = ``;\r\n\t        if (!this.hasLyric(this.now)) return;\r\n\t        let lr = isTrans!==false?this.options.list[this.now].transLyric:this.options.list[this.now].lyric;\r\n\t        let lyric = cLyric(lr);\r\n\t        lyric[\"now\"] = 0;\r\n\t        this.__LYRIC__ = lyric;\r\n\t        for (let i = 0; i <= lyric.length - 1; i++) {\r\n\t            let div = document.createElement(\"lrc\");\r\n\t            div.innerHTML = lyric[i].content;\r\n\t            this.__LIST__.lyricBody.appendChild(div);\r\n\t        }\r\n\t        this.emitter.emit(\"changeLyric\");\r\n\t    }\r\n\r\n\t    updateTime(time = undefined,func) {\r\n\t        if (time !== undefined)this.music.currentTime = time;\r\n\t        if (this.dragging.contain === false) this.__LIST__.timeLine.style.width = (this.music.currentTime / this.music.duration) * 100 + \"%\";\r\n\t        if(func !== undefined) func(this.music.currentTime);\r\n\t    }\r\n\r\n\t    slideLyric(time){\r\n\t        if(this.__LIST__.lyric.classList.contains(\"invisible\")) return;\r\n\r\n\t        let lyricToTop,\r\n\t        \thalfBody,\r\n\t        \ttranslateY,\r\n\t        \tlyricBody=this.__LIST__.lyricBody,\r\n\t        \tlrc = this.__LIST__.lyricBody.getElementsByTagName(\"lrc\");\r\n\t\t\tlet clear = ()=>{\r\n\t\t\t\t\tfor (let n = list.length - 1; n >= 0; n--)\r\n\t\t\t\t\t\tif(list[n]!==lrc[i])\r\n\t\t\t\t\t\t\tlist[n].classList.remove(\"now\");\r\n\t\t\t\t};\r\n\t        //遍历Lyric,寻找当前时间的歌词\r\n\t\t\t//注意:[].find & [].findIndex 仅返回符合要求元素组成的数组第一项,符合要求元素组成的数组的顺序参考原数组不变\r\n\t\t\t//现在的写法需要__LYRIC__属性具有time从小到大排列的顺序,详见refreshLyric()方法\r\n\t\t\tlet lyric = this.CBASE.find(this.__LYRIC__,(element)=>element.time<time).reverse()[0];\r\n\t\t\tlet i = this.__LYRIC__.indexOf(lyric);\r\n\t\t\tif(i<0){\r\n\t\t\t\tthis.CBASE.style(lyricBody,\"transform\",\"\");\r\n\t\t\t\tclear();\r\n\t\t\t}\r\n\r\n        \tif(this.__LYRIC__[\"now\"]!==i)\r\n\t\t        this.__LYRIC__[\"now\"]=i;\r\n\t\t    lrc[i].classList.add(\"now\");\r\n\t\t\tlyricToTop  = lyricBody.childNodes[i].offsetTop - lyricBody.childNodes[0].offsetTop - 0.5 * lyricBody.childNodes[i].clientHeight;\r\n\t\t\thalfBody    = 0.5 * this.__LIST__.lyric.clientHeight - lyricBody.childNodes[i].clientHeight;\r\n\t\t\ttranslateY  = -(lyricToTop - halfBody);\r\n\t\t\tthis.CBASE.style(lyricBody,\"transform\",\"translateY(\" + translateY + \"px)\");\r\n\t\t\tlet list = this.__LIST__.lyricBody.getElementsByClassName(\"now\");\r\n\t\t    if(list.length>1)\r\n\t\t\t\tclear();\r\n\t    }\r\n\t    translate(){\r\n\t    \tif(!this.options.list[this.now].transLyric||!this.hasLyric(this.now)) return false;\r\n\t    \tthis.transLock = !this.transLock;\r\n\t    \tthis.refreshLyric(this.transLock);\r\n\t    }\r\n\t    get length(){\r\n\t        return this.options.list.length;\r\n\t    }\r\n\t    set length(length){\r\n\t        throw new SyntaxError(\"Read-only Property.\");\r\n\t    }\r\n}\r\n\r\n//Object.assign 解决方案\r\nif (typeof Object.assign != 'function') {\r\n\t  Object.assign = function(target) {\r\n\t    'use strict';\r\n\t    if (target == null) {\r\n\t      throw new TypeError('Cannot convert undefined or null to object');\r\n\t    }\r\n\r\n\t    target = Object(target);\r\n\t    for (var index = 1; index < arguments.length; index++) {\r\n\t      var source = arguments[index];\r\n\t      if (source != null) {\r\n\t        for (var key in source) {\r\n\t          if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n\t            target[key] = source[key];\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    return target;\r\n\t  };\r\n}\r\n\r\nconst cEmitter = class cEmitter{\r\n\t    constructor(typeList){\r\n\t        if(typeList){\r\n\t            this.events = typeList;\r\n\t        }else{\r\n\t            this.events = [];\r\n\t        }\r\n\t    }\r\n\t    on(eventName,func){\r\n\t        if(this.events[eventName]&&this.events[eventName].push !== undefined&&typeof func === \"function\"){\r\n\t            this.events[eventName].push(func);\r\n\t        }else if(this.events[eventName]===undefined||this.events[eventName].push===undefined){\r\n\t            this.events[eventName] = [];\r\n\t        }else{\r\n\t            throw new TypeError(\"Uncaught Unexcepted TypeError.\")\r\n\t        }\r\n\t        return this;\r\n\t    }\r\n\t    emit(eventName,...args){\r\n\t        for(let i = 0;i<this.events[eventName].length;i++){\r\n\t            this.events[eventName][i](args);\r\n\t        }\r\n\t        return this;\r\n\t    }\r\n}\r\nconst cBase = class cBase{\r\n\t    constructor(rootNode=document.documentElement){\r\n\t        this.root = rootNode;\r\n\t        for(let styleList = document.documentElement.style,i = styleList.length;i>0;i--){\r\n\t\t\t\t[\"-webkit-\",\"-moz-\",\"-o-\",\"-ms-\"].forEach(element=>{\r\n\t\t\t\t\tif(styleList[i].indexOf(element)!==-1){\r\n\t\t\t\t\t\tthis.browser = element.replace(\"-\",\"\");\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\tif(this.browser)break;\r\n\t\t\t}\r\n\t    }\r\n\t    replace(oldElement,newElement){\r\n\t        //newElement 不存在于oldElement 的父元素中,首先载入.\r\n\t        newElement = newElement.cloneNode(true);\r\n\t        oldElement.parentNode.appendChild(newElement);\r\n\t        oldElement.parentNode.removeChild(oldElement);\r\n\t        //顺便如果有值为oldElement的变量,请重新赋值.\r\n\t    }\r\n\t    replaceInner(element,innerContent){\r\n\t        //进行一次简单的封装\r\n\t        element.innerHTML = innerContent;\r\n\t    }\r\n\t    getByClass(className,parentElement){\r\n\t        return parentElement!=undefined?parentElement.getElementsByClassName(className)[0]:this.root.getElementsByClassName(className)[0];\r\n\t    }\r\n\t    getByTagName(tagName,parentElement){\r\n\t        return parentElement!=undefined?parentElement.getElementsByTagName(tagName)[0]:this.root.getElementsByTagName(tagName)[0];\r\n\t    }\r\n\t    rand(start,end){\r\n\t        if(!start||!end) return Math.random();\r\n\t        if(start>end) throw new RangeError(\"the EndNumber must be bigger than the StartNumber\");\r\n\t        return (end-start)*Math.random()+start;\r\n\t    }\r\n\t\tfind(array,func){\r\n\t\t\tlet ar = [];\r\n\t\t\tarray.forEach(el=>{\r\n\t\t\t\tif(!!func(el))ar.push(el);\r\n\t\t\t});return ar;\r\n\t\t}\r\n\t    style(dom,property,content){\r\n\t\t\t//不管浏览器，暴力加前缀\r\n\t        dom.style[this.browser+property.slice(0,1).toUpperCase()+property.slice(1)] = content;\r\n\t        dom.style[property] = content;\r\n\t    }\r\n}\r\nconst cContext = class cContext{\r\n    /*\r\n     * options:{\r\n     *            \"element\":element,\r\n     *            \"items\":[\r\n     *                {\"name\":\"XXX\",\"action\":func},\r\n     *                {\"name\":\"XXX\",\"action\":func},\r\n     *            ]\r\n     *         }\r\n     */\r\n    constructor(options){\r\n        if(!options.element)throw new Error(\"Need a element to bind.\");\r\n        this.options = options;\r\n        this.options.element.oncontextmenu = function(){\r\n            return false;\r\n        }\r\n        this.options.element.addEventListener(\"contextmenu\",a=>{\r\n            this.hide();\r\n            this.show(a);\r\n            return false;\r\n        });\r\n        document.documentElement.addEventListener(\"click\",()=>this.hide());\r\n        return this;\r\n    }\r\n    add({name,action}){\r\n        this.options.items.push({name,action});\r\n        return this;\r\n    }\r\n    show({pageX,pageY}){\r\n        let content = document.createElement(\"div\");\r\n            content.classList.add(\"c-context\");\r\n        for(let items = this.options.items, i=0;i<items.length;i++){\r\n        \tcontent.appendChild(document.createElement(\"div\"));\r\n        \tcontent.children[i].classList.add(\"c-context--list\");\r\n        \tcontent.children[i].innerHTML = items[i].name;\r\n            //content.innerHTML+=`<div class=\"c-context--list\">${items[i].name}</div>`;\r\n            content.children[i].addEventListener(\"click\",items[i].action);\r\n        }\r\n        document.body.appendChild(content);\r\n        //Set the offset-x\r\n        if(document.documentElement.clientWidth>content.offsetWidth){ //When the body is wide enough\r\n\t\t\tcontent.style.left = document.documentElement.clientWidth>(content.offsetWidth+pageX)?\r\n\t\t\t\t\t\t\t\t pageX + \"px\":pageX - content.offsetWidth + \"px\";\r\n        }else{\r\n            content.style.width = document.documentElement.clientWidth + \"px\";\r\n        }\r\n        //Set the offset-y\r\n        if(document.documentElement.clientHeight>content.offsetHeight){\r\n\t\t\tcontent.style.top = document.documentElement.clientHeight>(content.offsetHeight+pageY)?\r\n\t\t\t\t\t\t\t\tpageY + \"px\":pageY - content.offsetHeight + \"px\";\r\n        }\r\n        content.style.visibility = \"visible\";\r\n        return this;\r\n    }\r\n    hide(){\r\n        for(let list = document.getElementsByClassName(\"c-context\"),i = list.length-1;i>=0;i--)document.body.removeChild(list[i]);\r\n        return this;\r\n    }\r\n    get items(){\r\n        return this.options.items;\r\n    }\r\n    set items(context){\r\n        this.options.items = context;\r\n        return this.options.items;\r\n    }\r\n}\r\n\r\nfunction cLyric(lrc){\r\n\tlet offset = 0,\r\n\tlyricArray = [];\r\n\tlrc.replace(/\\n+/gi,\"\\n\").split(\"\\n\").forEach(function(content){\r\n\t\t//content is like:\r\n\t\t// [00:12.34]JUUUUUUUUUUUUUUMP!!!!!!\r\n\t\t//get OFFSET\r\n\t\tif(content.indexOf(\"offset\")!==-1) offset = parseInt((/offset\\:(\\d+)/gi).exec(content)[1]);\r\n\t\t//get Lyric and translate it.\r\n\t\t//ar[] -> [1.24,2.21,36.15,\"HEY!\"]\r\n\t\tif(/\\[\\d+:[\\d\\.]+\\]/gi.test(content)){\r\n\t\t\tlet ar = [];\r\n\t\t\t[].forEach.call(content.match(/\\[\\d+\\:[\\.\\d]+\\]/gi),function(e){\r\n\t\t\t\tlet number = /\\[(\\d+)\\:([\\.\\d]+)\\]/gi.exec(e);\r\n\t\t\t\tar.push(parseInt(number[1])*60+parseFloat(number[2]-offset*0.001));\r\n\t\t\t});\r\n\t\t\tar.push(/(?:\\[\\d+\\:[\\.\\d]+\\])*(.*)/gi.exec(content)[1]);\r\n\t\t\tdo{\r\n\t\t\t\tlyricArray.push({time:ar.shift(),content:ar[ar.length-1]});\r\n\t\t\t}while(ar.length>=2)\r\n\t\t}\r\n\t});\r\n\treturn lyricArray.sort((a, b)=> {\r\n\t    return a.time - b.time;\r\n\t});\r\n} ;\r\nif(window)window.cPlayer = cPlayer;\r\n"]}